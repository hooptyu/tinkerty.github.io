<html>
<head>

<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script src="https://pay.google.com/gp/p/js/pay.js"></script>
<script src="https://js.braintreegateway.com/web/3.39.0/js/client.min.js"></script>
<script src="https://js.braintreegateway.com/web/3.39.0/js/google-payment.min.js"></script>
</head>
<body>
<div style="width:100%;text-align:center;">
<button style="margin-top:2rem;width:3rem;" id="google-pay-button">Play</button>
</div>
<script>


	  
// Make sure to have https://pay.google.com/gp/p/js/pay.js loaded on your page

// You will need a button element on your page styled according to Google's brand guidelines
// https://developers.google.com/pay/api/brand-guidelines
var button = document.querySelector('#google-pay-button');
var clienttoken="eyJ2ZXJzaW9uIjoyLCJhdXRob3JpemF0aW9uRmluZ2VycHJpbnQiOiJhYWI0MzIwMmU1YzI0YWQ4ODdhN2M3MWU1ZGMwZTZmNmUyY2E5Nzc3NjBmZTg4MDVkNGQxMTZmZGIyYjEzM2VlfGNyZWF0ZWRfYXQ9MjAxOC0xMS0wM1QxNjoxODowNi41MjE4OTczMTQrMDAwMFx1MDAyNm1lcmNoYW50X2lkPWJ6NGJkems2N3Q3eG1icHFcdTAwMjZwdWJsaWNfa2V5PTZ6YnFtcjRjY2c5MnpwZnAiLCJjb25maWdVcmwiOiJodHRwczovL2FwaS5zYW5kYm94LmJyYWludHJlZWdhdGV3YXkuY29tOjQ0My9tZXJjaGFudHMvYno0YmR6azY3dDd4bWJwcS9jbGllbnRfYXBpL3YxL2NvbmZpZ3VyYXRpb24iLCJncmFwaFFMIjp7InVybCI6Imh0dHBzOi8vcGF5bWVudHMuc2FuZGJveC5icmFpbnRyZWUtYXBpLmNvbS9ncmFwaHFsIiwiZGF0ZSI6IjIwMTgtMDUtMDgifSwiY2hhbGxlbmdlcyI6W10sImVudmlyb25tZW50Ijoic2FuZGJveCIsImNsaWVudEFwaVVybCI6Imh0dHBzOi8vYXBpLnNhbmRib3guYnJhaW50cmVlZ2F0ZXdheS5jb206NDQzL21lcmNoYW50cy9iejRiZHprNjd0N3htYnBxL2NsaWVudF9hcGkiLCJhc3NldHNVcmwiOiJodHRwczovL2Fzc2V0cy5icmFpbnRyZWVnYXRld2F5LmNvbSIsImF1dGhVcmwiOiJodHRwczovL2F1dGgudmVubW8uc2FuZGJveC5icmFpbnRyZWVnYXRld2F5LmNvbSIsImFuYWx5dGljcyI6eyJ1cmwiOiJodHRwczovL29yaWdpbi1hbmFseXRpY3Mtc2FuZC5zYW5kYm94LmJyYWludHJlZS1hcGkuY29tL2J6NGJkems2N3Q3eG1icHEifSwidGhyZWVEU2VjdXJlRW5hYmxlZCI6dHJ1ZSwicGF5cGFsRW5hYmxlZCI6dHJ1ZSwicGF5cGFsIjp7ImRpc3BsYXlOYW1lIjoibGltaWRhIiwiY2xpZW50SWQiOm51bGwsInByaXZhY3lVcmwiOiJodHRwOi8vZXhhbXBsZS5jb20vcHAiLCJ1c2VyQWdyZWVtZW50VXJsIjoiaHR0cDovL2V4YW1wbGUuY29tL3RvcyIsImJhc2VVcmwiOiJodHRwczovL2Fzc2V0cy5icmFpbnRyZWVnYXRld2F5LmNvbSIsImFzc2V0c1VybCI6Imh0dHBzOi8vY2hlY2tvdXQucGF5cGFsLmNvbSIsImRpcmVjdEJhc2VVcmwiOm51bGwsImFsbG93SHR0cCI6dHJ1ZSwiZW52aXJvbm1lbnROb05ldHdvcmsiOnRydWUsImVudmlyb25tZW50Ijoib2ZmbGluZSIsInVudmV0dGVkTWVyY2hhbnQiOmZhbHNlLCJicmFpbnRyZWVDbGllbnRJZCI6Im1hc3RlcmNsaWVudDMiLCJiaWxsaW5nQWdyZWVtZW50c0VuYWJsZWQiOnRydWUsIm1lcmNoYW50QWNjb3VudElkIjoibGltaWRhIiwiY3VycmVuY3lJc29Db2RlIjoiVVNEIn0sIm1lcmNoYW50SWQiOiJiejRiZHprNjd0N3htYnBxIiwidmVubW8iOiJvZmYifQ==";
var paymentsClient = new google.payments.api.PaymentsClient({
  environment: 'TEST' // Or 'PRODUCTION'
});
			
						braintree.client.create({
						  authorization: clienttoken
						}, function (clientErr, clientInstance) {
						  braintree.googlePayment.create({
							client: clientInstance
						  }, function (googlePaymentErr, googlePaymentInstance) {
							paymentsClient.isReadyToPay({
							  allowedPaymentMethods: googlePaymentInstance.createPaymentDataRequest().allowedPaymentMethods
							}).then(function(response) {
							  if (response.result) {
								button.addEventListener('click', function (event) {
								  event.preventDefault();

								  var paymentDataRequest = googlePaymentInstance.createPaymentDataRequest({
									merchantId: '45682665', // Omit this line in sandbox; insert your Google merchant ID in production
									transactionInfo: {
									  currencyCode: 'USD',
									  totalPriceStatus: 'FINAL',
									  totalPrice: '1.00' // Your amount
									},
									cardRequirements: {
									  // We recommend collecting billing address information, at minimum
									  // billing postal code, and passing that billing postal code with all
									  // Google Pay transactions as a best practice
									  billingAddressRequired: true
									}
								  });

								  paymentsClient.loadPaymentData(paymentDataRequest).then(function(paymentData) {
									googlePaymentInstance.parseResponse(paymentData, function (err, result) {
									  if (err) {
										// Handle parsing error
									  }
											alert(result);
									  // Send result.nonce to your server
									});
								  }).catch(function (err) {
									// Handle errors
								  });
								});
							  }
							}).catch(function (err) {
							  // Handle errors
							});
						  });

						  // Set up other Braintree components
						});
						
      //var url = 'http://47.90.66.61:81/braintree/index.php';
      //$.get(url, function(result1){
		//	clienttoken=result1;
						
	//  });
 
</script>
</body>
</html>